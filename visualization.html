<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Debug Feed - Simplified Twitter UI</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        /* Custom styles for the simplified Twitter look */
        .tweet-border {
            border-bottom: 1px solid #2f3336; /* Twitter dark mode separator */
        }
        .tweet-container {
            border-left: 1px solid #2f3336;
            border-right: 1px solid #2f3336;
        }
    </style>
</head>
<body class="bg-black text-white antialiased">

    <div class="flex justify-center min-h-screen">
        <!-- Main Content Area / Feed -->
        <div class="w-full max-w-xl tweet-container">

            <!-- Header -->
            <header class="sticky top-0 z-10 bg-black bg-opacity-95 p-4 tweet-border">
                <h1 class="text-xl font-bold">AI Debug Feed</h1>
                <p class="text-sm text-gray-500">Source Data Visualization</p>
            </header>

            <!-- Feed Content -->
            <main id="feed-container">
                <!-- Posts will be injected here by the script -->
            </main>

            <!-- Footer Placeholder -->
            <footer class="p-8 text-center text-gray-600 tweet-border border-t">
                End of Feed Data
            </footer>
        </div>
    </div>

    <script>
        const jsonData = [
          {
            "posterName": "React Simplified",
            "text": "Welcome to your learning feed for React! Let's start with the absolute basics. React is a JavaScript library for building user interfaces. It lets you create reusable UI components.",
            "displayStyle": "BASIC"
          },
          {
            "posterName": "CodeCrafter",
            "text": "One of the first things you'll encounter in React is JSX. It looks like HTML, but it's actually a syntax extension for JavaScript. This allows you to write what your UI should look like right inside your JavaScript code.",
            "displayStyle": "AI_IMAGE",
            "aiImagePrompt": "A futuristic code editor showing a mix of HTML tags and JavaScript code, with glowing lines connecting them, symbolizing the integration of JSX."
          },
          {
            "posterName": "Component King",
            "text": "In React, everything is a component. Think of them as independent and reusable bits of code. A component is like a JavaScript function that returns a piece of the user interface.",
            "displayStyle": "WEB_IMAGE",
            "imageSearchQuery": "Lego bricks being assembled into a structure"
          },
          {
            "posterName": "State & Props",
            "text": "To pass data to your components, you use 'props'. Props are like function arguments and are passed from a parent component to a child component. They are read-only, meaning a child component cannot change the props it receives.",
            "displayStyle": "BASIC"
          },
          {
            "posterName": "Quiz",
            "text": "",
            "displayStyle": "QUIZ",
            "quizQuestions": [
              {
                "question": "What is React?",
                "answers": [
                  "A JavaScript framework for building mobile apps.",
                  "A JavaScript library for building user interfaces.",
                  "A database management system."
                ],
                "correctIndex": 1
              },
              {
                "question": "What is JSX?",
                "answers": [
                  "A templating language for JavaScript.",
                  "A syntax extension for JavaScript that looks like HTML.",
                  "A CSS preprocessor."
                ],
                "correctIndex": 1
              },
              {
                "question": "How is data passed from a parent to a child component?",
                "answers": [
                  "Through state",
                  "Through props",
                  "Through context"
                ],
                "correctIndex": 1
              }
            ]
          },
          {
            "posterName": "Deep Dive",
            "text": "Let's talk about 'state'. While props are for passing data down, 'state' is for managing a component's internal data that can change over time. Think of it as a component's personal memory.",
            "displayStyle": "AI_IMAGE",
            "aiImagePrompt": "An illustration of a robot with a thought bubble above its head, inside the bubble are various icons representing data and user interactions, symbolizing internal state."
          },
          {
            "posterName": "The Feynman",
            "text": "Time for a check-in! Explain these concepts in your own words as if you were teaching them to someone else.",
            "displayStyle": "EXERCISE",
            "exerciseQuestions": [
              "What is the difference between props and state?",
              "Why is it said that data flows one-way in React?",
              "What is the purpose of JSX and how does it get converted to regular JavaScript?"
            ]
          },
          {
            "posterName": "React Internals",
            "text": "Ever wondered how React is so fast? It uses a Virtual DOM! Instead of directly manipulating the slow browser DOM, React creates a lightweight copy in memory. When the state changes, it updates this virtual representation first, and then efficiently updates only the changed parts of the real DOM.",
            "displayStyle": "BASIC"
          },
          {
            "posterName": "Lifecycle Methods",
            "text": "Every React component goes through a lifecycle of events. You can tap into these events using special methods. The main phases are Mounting (being created and inserted into the DOM), Updating (re-rendering due to prop or state changes), and Unmounting (being removed from the DOM).",
            "displayStyle": "WEB_IMAGE",
            "imageSearchQuery": "Diagram of a plant lifecycle from seed to withering"
          },
          {
            "posterName": "Quiz",
            "text": "",
            "displayStyle": "QUIZ",
            "quizQuestions": [
              {
                "question": "What is the main difference between props and state?",
                "answers": [
                  "Props are for external data, state is for internal data.",
                  "Props can be changed by the component, state cannot.",
                  "Props are passed from child to parent, state is local."
                ],
                "correctIndex": 0
              },
              {
                "question": "What is the Virtual DOM?",
                "answers": [
                  "A direct representation of the HTML in the browser.",
                  "A lightweight in-memory copy of the real DOM.",
                  "A way to style React components."
                ],
                "correctIndex": 1
              },
              {
                "question": "Which is NOT a phase of the component lifecycle?",
                "answers": [
                  "Mounting",
                  "Initializing",
                  "Updating"
                ],
                "correctIndex": 1
              }
            ]
          },
          {
            "posterName": "List Master",
            "text": "When rendering lists of elements in React, it's crucial to provide a unique 'key' for each item. Keys help React identify which items have changed, are added, or are removed, which helps in efficiently updating the UI.",
            "displayStyle": "BASIC"
          },
          {
            "posterName": "The Feynman",
            "text": "Let's solidify your understanding. Explain these concepts clearly and concisely.",
            "displayStyle": "EXERCISE",
            "exerciseQuestions": [
              "Explain the concept of the Virtual DOM and why it's beneficial for performance.",
              "Describe the three main phases of a component's lifecycle and give an example of a method for each.",
              "Why are keys important when rendering lists in React?"
            ]
          },
          {
            "posterName": "Context is Key",
            "text": "Tired of passing props down through many levels of components? The Context API is here to help! It provides a way to share data that can be considered “global” for a tree of React components, like themes or user authentication, without having to pass props down manually at every level.",
            "displayStyle": "AI_IMAGE",
            "aiImagePrompt": "A glowing orb of data at the top of a tree-like structure, with light trickling down and illuminating various branches (components) directly, bypassing the need to travel down the trunk."
          },
          {
            "posterName": "State Management Pro",
            "text": "For more complex applications, you might need a dedicated state management library. Redux is a popular choice. It provides a predictable state container, making it easier to manage the state of your entire application in one place.",
            "displayStyle": "WEB_IMAGE",
            "imageSearchQuery": "centralized data hub with connections to multiple devices"
          },
          {
            "posterName": "Quiz",
            "text": "",
            "displayStyle": "QUIZ",
            "quizQuestions": [
              {
                "question": "What is the primary purpose of the Context API?",
                "answers": [
                  "To replace Redux in all applications.",
                  "To avoid 'prop drilling' by passing data through the component tree without manually passing props at every level.",
                  "To manage local component state."
                ],
                "correctIndex": 1
              },
              {
                "question": "What is Redux?",
                "answers": [
                  "A React component library.",
                  "A predictable state container for JavaScript apps.",
                  "A tool for testing React components."
                ],
                "correctIndex": 1
              },
              {
                "question": "When should you use a 'key' prop?",
                "answers": [
                  "When creating any React element.",
                  "When rendering a list of elements.",
                  "When passing a function as a prop."
                ],
                "correctIndex": 1
              }
            ]
          },
          {
            "posterName": "Test Master",
            "text": "Testing your React components is crucial for building robust applications. Tools like Jest and React Testing Library help you write tests to ensure your components behave as expected. React Testing Library encourages you to test your components in a way that resembles how a user would interact with them.",
            "displayStyle": "BASIC"
          }
        ];

        const feedContainer = document.getElementById('feed-container');

        // Helper function to create HTML for a generic tweet structure
        function createTweet(post, contentHTML) {
            // Placeholder for a generic avatar
            const avatarHTML = `
                <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-xl font-bold text-black uppercase">
                    ${post.posterName[0]}
                </div>
            `;

            return `
                <div class="p-4 flex space-x-3 tweet-border hover:bg-gray-950 transition duration-150 ease-in-out">
                    <!-- Avatar -->
                    <div>${avatarHTML}</div>
                    
                    <!-- Content -->
                    <div class="flex-1">
                        <!-- Poster Name & Handle -->
                        <div class="flex items-center space-x-1">
                            <span class="font-bold hover:underline">${post.posterName}</span>
                            <span class="text-gray-500 text-sm">@${post.posterName.toLowerCase().replace(/\s/g, '_')}</span>
                        </div>

                        <!-- Main Content (Text + Media/Interactive) -->
                        <div class="mt-1">
                            ${post.text ? `<p class="text-white whitespace-pre-wrap">${post.text}</p>` : ''}
                            <div class="mt-2">
                                ${contentHTML}
                            </div>
                        </div>

                        <!-- Debug Info (Optional) -->
                        <div class="mt-2 text-xs text-gray-700">
                            Style: <span class="font-mono text-gray-500">${post.displayStyle}</span>
                        </div>
                    </div>
                </div>
            `;
        }

        // Renderer functions based on displayStyle
        const renderers = {
            BASIC: (post) => {
                return ''; // Basic tweets only have text, which is handled above
            },

            AI_IMAGE: (post) => {
                return `
                    <div class="border border-gray-700 rounded-xl overflow-hidden mt-3 p-3 bg-gray-900">
                        <p class="text-sm font-semibold text-blue-400">AI Image Prompt:</p>
                        <p class="text-sm text-gray-400 italic">${post.aiImagePrompt}</p>
                        <div class="w-full h-40 bg-gray-800 flex items-center justify-center rounded-lg mt-2 text-gray-500">
                            [Simulated AI Image Placeholder]
                        </div>
                    </div>
                `;
            },

            WEB_IMAGE: (post) => {
                return `
                    <div class="border border-gray-700 rounded-xl overflow-hidden mt-3 p-3 bg-gray-900">
                        <p class="text-sm font-semibold text-green-400">Web Image Search:</p>
                        <p class="text-sm text-gray-400 italic">${post.imageSearchQuery}</p>
                        <div class="w-full h-40 bg-gray-800 flex items-center justify-center rounded-lg mt-2 text-gray-500">
                            [Simulated Web Image Placeholder]
                        </div>
                    </div>
                `;
            },

            QUIZ: (post) => {
                let quizHtml = '<div class="space-y-4 p-4 border border-blue-600 rounded-xl bg-gray-900">';
                quizHtml += '<h3 class="text-lg font-bold text-blue-400">Interactive Quiz Time!</h3>';
                
                post.quizQuestions.forEach((q, qIndex) => {
                    quizHtml += `<div class="mt-4">
                        <p class="font-semibold text-white">Q${qIndex + 1}: ${q.question}</p>
                        <ul class="mt-1 space-y-1">`;
                    
                    q.answers.forEach((answer, aIndex) => {
                        const isCorrect = aIndex === q.correctIndex;
                        const bgColor = isCorrect ? 'bg-green-700/50' : 'bg-gray-700/50';
                        const borderColor = isCorrect ? 'border-green-500' : 'border-gray-500';
                        const status = isCorrect ? ' (Correct Answer)' : '';

                        quizHtml += `
                            <li class="p-2 border ${borderColor} rounded text-sm flex items-center ${bgColor}">
                                <span class="font-mono text-xs w-4">${String.fromCharCode(65 + aIndex)}.</span>
                                <span>${answer}</span>
                                <span class="ml-auto text-xs ${isCorrect ? 'text-green-300' : 'text-gray-400'}">${status}</span>
                            </li>
                        `;
                    });
                    quizHtml += `</ul></div>`;
                });
                
                quizHtml += '</div>';
                return quizHtml;
            },

            EXERCISE: (post) => {
                let exerciseHtml = '<div class="space-y-4 p-4 border border-yellow-600 rounded-xl bg-gray-900">';
                exerciseHtml += '<h3 class="text-lg font-bold text-yellow-400">Exercise / Self-Reflection</h3>';
                exerciseHtml += `<p class="text-gray-300">${post.text}</p>`;

                exerciseHtml += '<ul class="mt-3 space-y-2 list-disc list-inside text-gray-300">';
                post.exerciseQuestions.forEach((question, index) => {
                    exerciseHtml += `<li class="pl-1"><span class="font-semibold text-white">Question ${index + 1}:</span> ${question}</li>`;
                });
                exerciseHtml += '</ul>';
                
                // Add a simple interaction placeholder
                exerciseHtml += '<div class="mt-4 pt-3 border-t border-gray-700">';
                exerciseHtml += '<textarea class="w-full h-20 p-2 text-sm bg-black border border-gray-700 rounded placeholder-gray-500 focus:ring-yellow-500 focus:border-yellow-500" placeholder="Type your explanation here for debugging purposes..."></textarea>';
                exerciseHtml += '</div>';

                exerciseHtml += '</div>';
                return exerciseHtml;
            }
        };

        // Main rendering loop
        jsonData.forEach(post => {
            const renderer = renderers[post.displayStyle];
            let contentHTML = '';

            if (renderer) {
                contentHTML = renderer(post);
            } else {
                contentHTML = `<div class="p-2 text-red-500 border border-red-700 rounded bg-red-900/20">Unknown displayStyle: ${post.displayStyle}</div>`;
            }

            feedContainer.innerHTML += createTweet(post, contentHTML);
        });
    </script>
</body>
</html>