<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Debug Feed - React Fundamentals</title>
    <!-- Tailwind CSS 4 CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style>
        /* Custom dark scrollbar for better aesthetics */
        body::-webkit-scrollbar {
            width: 8px;
        }
        body::-webkit-scrollbar-track {
            background: #111827; /* bg-gray-900 */
        }
        body::-webkit-scrollbar-thumb {
            background-color: #374151; /* bg-gray-700 */
            border-radius: 20px;
        }
        /* Custom background color for post bodies to distinguish from main background */
        .bg-gray-850 {
            background-color: #1f2937; /* A slightly lighter dark gray */
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen font-sans">

    <div class="flex justify-center">
        
        <!-- Main Feed Container (Twitter-like width) -->
        <div id="feed-container" class="w-full max-w-xl border-x border-gray-800">
            
            <!-- Header -->
            <header class="sticky top-0 bg-gray-900/95 backdrop-blur-sm z-10 p-4 border-b border-gray-800">
                <h1 class="text-xl font-extrabold">AI Debug Feed</h1>
                <p class="text-sm text-gray-500">Generated Content: React Fundamentals</p>
            </header>

            <!-- Posts will be injected here -->
        </div>

        <!-- Debug/Metadata Sidebar -->
        <div class="hidden lg:block w-80 ml-8 pt-4">
            <div class="sticky top-4 bg-gray-800 p-4 rounded-xl shadow-lg">
                <h2 class="text-lg font-bold mb-3 text-blue-400">System Metadata</h2>
                <div id="metadata-container" class="space-y-4 text-sm">
                    <!-- Metadata will be injected here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        const rawData = {
  "array": [
    {
      "posterName": "React Fundamentals",
      "text": "Welcome to your learning feed on React! React is a powerful JavaScript library for building user interfaces, developed by Facebook. It allows developers to create reusable UI components and build complex applications efficiently.",
      "displayStyle": "BASIC",
      "type": "Post"
    },
    {
      "posterName": "React Explained",
      "text": "At its core, React uses a component-based architecture. Think of components as independent, reusable pieces of code, much like JavaScript functions, that return HTML. This modular approach makes it easier to manage and scale your applications.",
      "displayStyle": "AI_IMAGE",
      "aiImagePrompt": "A visual representation of a user interface being assembled from various interlocking blocks, each labeled as a 'Component'. The blocks should have different colors and sizes, symbolizing the variety and reusability of React components. The overall image should convey a sense of modularity and organization.",
      "type": "Post"
    },
    {
      "posterName": "JSX",
      "text": "One of the first things you'll encounter in React is JSX, which stands for JavaScript XML. It's a syntax extension that allows you to write HTML-like code directly within your JavaScript. This makes your code more readable and expressive.",
      "displayStyle": "WEB_IMAGE",
      "imageSearchQuery": "react jsx code example",
      "type": "Post"
    },
    {
      "posterName": "The Virtual DOM",
      "text": "React's secret to performance is the Virtual DOM. It's a lightweight copy of the real DOM kept in memory. When the state of your application changes, React first updates the Virtual DOM, then efficiently calculates the minimal changes needed to update the actual DOM. This process is called reconciliation.",
      "displayStyle": "EXERCISE",
      "exerciseQuestions": [
        "In your own words, what is the Virtual DOM and why is it beneficial for performance?",
        "Explain the concept of 'reconciliation' in the context of React's Virtual DOM.",
        "How does the Virtual DOM differ from the Shadow DOM?"
      ],
      "type": "Post"
    },
    {
      "posterName": "Quiz",
      "text": "",
      "displayStyle": "QUIZ",
      "quizQuestions": [
        {
          "question": "What is React primarily used for?",
          "answers": [
            "Backend development",
            "Building user interfaces",
            "Database management"
          ],
          "correctIndex": 1
        },
        {
          "question": "What does JSX stand for?",
          "answers": [
            "JavaScript XML",
            "Java Syntax Extension",
            "JSON Syntax"
          ],
          "correctIndex": 0
        },
        {
          "question": "What is the main benefit of the Virtual DOM?",
          "answers": [
            "It makes the code easier to write.",
            "It improves application performance.",
            "It's a replacement for the real DOM."
          ],
          "correctIndex": 1
        }
      ],
      "type": "Post"
    },
    {
      "posterName": "State vs. Props",
      "text": "In React, data flows in one direction. 'Props' (short for properties) are used to pass data from a parent component to a child component and are read-only. 'State' is for managing a component's internal data that can change over time. State is managed within the component and can be updated, triggering a re-render.",
      "displayStyle": "BASIC",
      "type": "Post"
    },
    {
      "posterName": "Component Lifecycle",
      "text": "Every React component has a lifecycle with three main phases: Mounting, Updating, and Unmounting. These phases have specific methods that allow you to run code at particular times, like when a component is first added to the DOM (`componentDidMount`) or just before it's removed (`componentWillUnmount`).",
      "displayStyle": "AI_IMAGE",
      "aiImagePrompt": "An illustration showing a plant's lifecycle, from a seed (Mounting), to a growing plant (Updating), and finally a wilting plant (Unmounting). Each stage should be clearly labeled with the corresponding React component lifecycle phase.",
      "type": "Post"
    },
    {
      "posterName": "ProTip",
      "text": "Remember to bind your event handlers in class components to ensure `this` refers to the component instance. With functional components and hooks, this is often not an issue!",
      "displayStyle": "COMMENT",
      "type": "Post"
    },
    {
      "posterName": "React Hooks",
      "text": "Hooks are a powerful feature introduced in React 16.8 that let you use state and other React features in functional components without writing a class. The most common hooks are `useState` for managing state and `useEffect` for handling side effects.",
      "displayStyle": "MEME",
      "type": "Post"
    },
    {
      "posterName": "Quiz",
      "text": "",
      "displayStyle": "QUIZ",
      "quizQuestions": [
        {
          "question": "What is the primary way to pass data from a parent to a child component?",
          "answers": [
            "State",
            "Props",
            "Events"
          ],
          "correctIndex": 1
        },
        {
          "question": "Which lifecycle method is called after a component is rendered for the first time?",
          "answers": [
            "componentDidMount",
            "componentWillUnmount",
            "render"
          ],
          "correctIndex": 0
        },
        {
          "question": "What do React Hooks allow you to do?",
          "answers": [
            "Use state in class components",
            "Use state and lifecycle features in functional components",
            "Replace the need for props"
          ],
          "correctIndex": 1
        }
      ],
      "type": "Post"
    },
    {
      "posterName": "React Router",
      "text": "React itself is a library for building user interfaces, not a full framework. For handling navigation between different pages in a single-page application, you'll often use a library like React Router. It provides components for defining routes and linking between them.",
      "displayStyle": "BASIC",
      "type": "Post"
    },
    {
      "posterName": "State Management",
      "text": "For larger applications, managing state can become complex. While React has its own Context API, many developers turn to libraries like Redux for a more centralized and predictable way to manage the application's state.",
      "displayStyle": "AI_IMAGE",
      "aiImagePrompt": "A diagram showing a central 'store' of data with arrows pointing to various components of a user interface. This illustrates the concept of a centralized state management library like Redux, where the state is held in a single location and components can access and update it.",
      "type": "Post"
    },
    {
      "posterName": "Testing React",
      "text": "To ensure your components work as expected, you'll want to write tests. The React Testing Library is a popular choice that encourages testing your application in a way that resembles how a user would interact with it.",
      "displayStyle": "EXERCISE",
      "exerciseQuestions": [
        "Why is it important to test React components from a user's perspective?",
        "What is the purpose of a test runner like Jest in the context of React testing?",
        "Describe a scenario where you would use a query like `getByText` in React Testing Library."
      ],
      "type": "Post"
    },
    {
      "posterName": "Deeper Dive",
      "text": "Ready to go further? Explore these resources to expand your React knowledge.",
      "displayStyle": "SOURCES",
      "type": "Post"
    },
    {
      "posterName": "Quiz",
      "text": "",
      "displayStyle": "QUIZ",
      "quizQuestions": [
        {
          "question": "What is React Router used for?",
          "answers": [
            "Styling components",
            "Managing application state",
            "Handling navigation and routing"
          ],
          "correctIndex": 2
        },
        {
          "question": "Which of the following is a popular state management library for React?",
          "answers": [
            "React Router",
            "Redux",
            "Jest"
          ],
          "correctIndex": 1
        },
        {
          "question": "What is the main philosophy of the React Testing Library?",
          "answers": [
            "To test the implementation details of components",
            "To test components in a way that resembles user interaction",
            "To only test the visual appearance of components"
          ],
          "correctIndex": 1
        }
      ],
      "type": "Post"
    },
    {
      "nextTopicSuggestions": [
        "Next.js",
        "React Native",
        "GraphQL with React"
      ],
      "type": "NewSuggestions"
    }
  ],
  "webSearchQueries": [
    "what is react js",
    "react js core concepts",
    "what are react components",
    "what is JSX in react",
    "react state vs props",
    "what is virtual dom in react",
    "react component lifecycle",
    "what are react hooks",
    "useState and useEffect hooks explained",
    "event handling in react",
    "what is react router",
    "react context api tutorial",
    "what is redux in react",
    "react testing library tutorial",
    "what is next.js"
  ]
};

        const feedContainer = document.getElementById('feed-container');
        const metadataContainer = document.getElementById('metadata-container');

        function getAvatar(name) {
            const initial = name ? name[0].toUpperCase() : '?';
            // Simple color hashing based on initial for variety
            const colors = ['bg-blue-500', 'bg-red-500', 'bg-green-500', 'bg-yellow-500', 'bg-indigo-500', 'bg-pink-500'];
            const color = colors[initial.charCodeAt(0) % colors.length];
            
            return `<div class="w-10 h-10 ${color} rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0">${initial}</div>`;
        }

        function renderPost(post) {
            let contentHtml = '';
            let specialStyle = '';
            let icon = '';

            // Determine special content and styling based on displayStyle
            switch (post.displayStyle) {
                case 'AI_IMAGE':
                    specialStyle = 'border-l-4 border-purple-500 bg-gray-850';
                    icon = `<svg class="w-4 h-4 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>`;
                    contentHtml = `
                        <p class="text-gray-300 mt-1">${post.text}</p>
                        <div class="mt-3 p-3 bg-gray-900 border border-purple-600/50 rounded-lg">
                            <p class="text-purple-400 font-semibold text-xs mb-1">AI Image Prompt:</p>
                            <p class="text-gray-400 text-xs italic">${post.aiImagePrompt}</p>
                        </div>
                    `;
                    break;

                case 'WEB_IMAGE':
                    specialStyle = 'border-l-4 border-green-500 bg-gray-850';
                    icon = `<svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>`;
                    contentHtml = `
                        <p class="text-gray-300 mt-1">${post.text}</p>
                        <div class="mt-3 p-3 bg-gray-900 border border-green-600/50 rounded-lg">
                            <p class="text-green-400 font-semibold text-xs mb-1">Web Search Query:</p>
                            <p class="text-gray-400 text-xs italic">${post.imageSearchQuery}</p>
                        </div>
                    `;
                    break;

                case 'QUIZ':
                    specialStyle = 'border-l-4 border-yellow-500 bg-gray-850';
                    icon = `<svg class="w-4 h-4 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0121 12c0 3.368-.804 6.502-2.27 9.284M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"></path></svg>`;
                    
                    let quizHtml = post.quizQuestions.map((q, qIndex) => `
                        <div class="mb-4 p-3 border border-yellow-700 rounded-lg bg-gray-900">
                            <p class="font-semibold text-yellow-300 mb-2">Q${qIndex + 1}: ${q.question}</p>
                            <ul class="mt-2 space-y-1 text-sm">
                                ${q.answers.map((a, aIndex) => `
                                    <li class="${aIndex === q.correctIndex ? 'bg-yellow-900/50 text-yellow-200 font-medium' : 'text-gray-400'} p-1 rounded">
                                        ${String.fromCharCode(65 + aIndex)}. ${a} 
                                        ${aIndex === q.correctIndex ? '<span class="text-xs text-yellow-400 ml-2">(Correct)</span>' : ''}
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    `).join('');
                    contentHtml = `<p class="text-gray-300 mt-1">Interactive Quiz Time!</p><div class="mt-3">${quizHtml}</div>`;
                    break;

                case 'EXERCISE':
                    specialStyle = 'border-l-4 border-red-500 bg-gray-850';
                    icon = `<svg class="w-4 h-4 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5s3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18s-3.332.477-4.5 1.253"></path></svg>`;
                    
                    let exerciseHtml = post.exerciseQuestions.map((q, qIndex) => `
                        <li class="mb-2 text-gray-300">
                            <span class="font-semibold text-red-300 mr-1">Q${qIndex + 1}:</span> ${q}
                        </li>
                    `).join('');
                    contentHtml = `
                        <p class="text-gray-300 mt-1">${post.text}</p>
                        <div class="mt-3 p-3 bg-gray-900 border border-red-600/50 rounded-lg">
                            <p class="text-red-400 font-semibold mb-2 text-sm">Self-Reflection Prompts:</p>
                            <ol class="list-decimal list-inside ml-2 text-sm space-y-1">${exerciseHtml}</ol>
                        </div>
                    `;
                    break;

                case 'SOURCES':
                    specialStyle = 'border-l-4 border-cyan-500 bg-gray-850';
                    icon = `<svg class="w-4 h-4 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5s3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18s-3.332.477-4.5 1.253"></path></svg>`;
                    
                    // Since the provided JSON for SOURCES doesn't contain explicit URLs, we'll use placeholder links based on the post name.
                    const sourcesPlaceholder = [
                        { name: "React Official Docs", url: "#" },
                        { name: "Component Lifecycle Guide", url: "#" },
                        { name: "State Management Patterns", url: "#" }
                    ];

                    let sourcesHtml = sourcesPlaceholder.map(source => `
                        <li class="text-cyan-300 hover:text-cyan-200 transition duration-150">
                            <a href="${source.url}" target="_blank" class="hover:underline">${source.name}</a>
                        </li>
                    `).join('');

                    contentHtml = `
                        <p class="text-gray-300 mt-1">${post.text}</p>
                        <div class="mt-3 p-3 bg-gray-900 border border-cyan-600/50 rounded-lg">
                            <p class="text-cyan-400 font-semibold mb-2 text-sm">Key Links:</p>
                            <ul class="list-disc list-inside ml-2 text-sm space-y-1">${sourcesHtml}</ul>
                        </div>
                    `;
                    break;

                case 'COMMENT':
                    specialStyle = 'border-l-4 border-gray-500 bg-gray-850';
                    icon = `<svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg>`;
                    contentHtml = `<p class="text-gray-300 mt-1 italic">${post.text}</p>`;
                    break;

                case 'MEME':
                    specialStyle = 'border-l-4 border-pink-500 bg-gray-850';
                    icon = `<svg class="w-4 h-4 text-pink-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`;
                    contentHtml = `
                        <p class="text-gray-300 mt-1">${post.text}</p>
                        <div class="mt-3 p-3 bg-gray-900 border border-pink-600/50 rounded-lg">
                            <p class="text-pink-400 font-semibold text-xs mb-1">Meme Search Query:</p>
                            <p class="text-gray-400 text-xs italic">Placeholder for meme related to ${post.posterName}</p>
                        </div>
                    `;
                    break;

                case 'BASIC':
                default:
                    icon = `<svg class="w-4 h-4 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path></svg>`;
                    contentHtml = `<p class="text-gray-300 mt-1">${post.text}</p>`;
                    break;
            }

            return `
                <div class="post border-b border-gray-800 p-4 hover:bg-gray-850 transition duration-150 ${specialStyle}">
                    <div class="flex space-x-3">
                        ${getAvatar(post.posterName)}
                        <div class="flex-1 min-w-0">
                            <div class="flex items-center justify-between mb-1">
                                <p class="text-white font-bold truncate">${post.posterName}</p>
                                <span class="text-xs text-gray-500 flex items-center space-x-1 flex-shrink-0 ml-2">
                                    ${icon}
                                    <span class="hidden sm:inline">${post.displayStyle}</span>
                                </span>
                            </div>
                            ${contentHtml}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderSuggestions(suggestions) {
            const listHtml = suggestions.nextTopicSuggestions.map(topic => `
                <li class="p-2 bg-gray-700 rounded-lg text-blue-300 hover:bg-blue-900/50 transition duration-150 cursor-pointer text-sm">
                    ${topic}
                </li>
            `).join('');

            return `
                <div class="p-4 bg-gray-800 border-t border-gray-700 shadow-xl">
                    <h2 class="text-xl font-bold text-blue-400 mb-3">Next Steps</h2>
                    <p class="text-gray-400 mb-4 text-sm">Based on this learning path, here are some suggested topics to explore next:</p>
                    <ul class="space-y-2">
                        ${listHtml}
                    </ul>
                </div>
            `;
        }

        // --- Main Rendering Loop ---
        rawData.array.forEach(item => {
            if (item.type === 'Post') {
                feedContainer.innerHTML += renderPost(item);
            } else if (item.type === 'NewSuggestions') {
                feedContainer.innerHTML += renderSuggestions(item);
            }
        });

        // --- Metadata Rendering ---
        const queriesHtml = rawData.webSearchQueries.map(query => `
            <li class="text-gray-400 bg-gray-700/50 p-2 rounded-md text-xs font-mono break-words">${query}</li>
        `).join('');

        metadataContainer.innerHTML = `
            <div class="border-b border-gray-700 pb-4">
                <h3 class="font-semibold text-white mb-2 text-sm">Web Search Queries Generated (${rawData.webSearchQueries.length}):</h3>
                <ul class="space-y-1 max-h-60 overflow-y-auto pr-1">${queriesHtml}</ul>
            </div>
            <div class="pt-4">
                <h3 class="font-semibold text-white mb-2 text-sm">Total Posts Rendered:</h3>
                <p class="text-gray-400">${rawData.array.filter(i => i.type === 'Post').length}</p>
            </div>
        `;

    </script>

</body>
</html>